# Test generated by RoostGPT for test PostTest using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /credentials_get for http method type GET in artillery framework

# RoostTestHash=c5011f3c64


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    - expect
  payload:
    path: "credentials_get_success.csv"
    fields:
      - Id
      - Format
      - Credential
      - Status
      - StatusUpdatedAt
      - CreatedAt
    skipHeader: true
  headers:
    Token: "{{ $processEnvironment.AUTH_TOKEN }}"

scenarios:
  - name: "Test scenario - Validating API endpoints for getting credentials"
    flow:
      - get:
         url: "/credentials?size=20&offset=0"
         # Expect the response to have status 200 and header "api-version" equal to "1.0.0"
         # The body should have requisite fields with specified constraints.
         expect:
           - statusCode: 200
           - hasHeader: "api-version"
           - headerEquals: ["api-version", "1.0.0"]
           - hasProperty: ["total"]
           - hasProperty: ["credentials"]
           - hasProperty: ["credentials[].id"]
           - hasProperty: ["credentials[].format"]
           - hasProperty: ["credentials[].credential"]
           - hasProperty: ["credentials[].status"]
           - hasProperty: ["credentials[].statusUpdatedAt"]
           - hasProperty: ["credentials[].createdAt"]
         afterResponse: "think"
