# Test generated by RoostGPT for test PostTest using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /credentials_get for http method type GET in artillery framework

# RoostTestHash=c5011f3c64


config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 10
  plugins:
    expect: {}
  payloads:
    - name: "credentials_get_others_csv"
      path: "payload/credentials_get_others.csv"
      skipHeader: true
      fields: ["username", "password"]

scenarios:
  - name: "Invalid Requests to /credentials endpoint"
    flow:
    # Unauthorised Request
    - comment: "Sending GET request without Auth Token"
      get:
        url: "/credentials?size={{size}}&offset={{offset}}"
        capture:
          - json: "$"
            as: "responseBody"
        expect:
          - statusCode: 401
          - hasHeader: "Content-Type"
          - headerEquals: ["Content-Type", "application/json"]
      think: 1

    # Unauthorised Request with Invalid Token
    - comment: "Sending GET request with Invalid Auth Token"
      get:
        url: "/credentials?size={{size}}&offset={{offset}}"
        headers:
          Token: "Invalid_Token"
        capture:
          - json: "$"
            as: "responseBody"
        expect:
          - statusCode: 403
          - hasHeader: "Content-Type"
          - headerEquals: ["Content-Type", "application/json"]
      think: 1

    # Request with Invalid URL
    - comment: "Sending GET request to Invalid URL"
      get:
        url: "/invalid_url"
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        capture:
          - json: "$"
            as: "responseBody"
        expect:
          - statusCode: 404
          - hasHeader: "Content-Type"
          - headerEquals: ["Content-Type", "application/json"]
      think: 1
